direction: down

ecology: "Goal Ecology" {
  style.fill: "#e3f2fd"
  style.stroke: "#2196f3"
  style.stroke-width: 2
  style.border-radius: 8
  style.shadow: true

  goals: "Goal Hierarchy" {
    style.fill: "#e8f5e9"
    style.stroke: "#4caf50"
    style.border-radius: 8
    style.shadow: true

    STRAT: "Strategic Goals\n(long-horizon, high-priority)" {
      style.fill: "#c8e6c9"
      style.stroke: "#388e3c"
      style.border-radius: 6
    }
    OPER: "Operational Goals\n(mid-horizon, medium-priority)" {
      style.fill: "#c8e6c9"
      style.stroke: "#388e3c"
      style.border-radius: 6
    }
    TACT: "Tactical Goals\n(short-horizon, task-level)" {
      style.fill: "#c8e6c9"
      style.stroke: "#388e3c"
      style.border-radius: 6
    }
  }

  lifecycle: "Goal Lifecycle" {
    style.fill: "#fff9c4"
    style.stroke: "#fbc02d"
    style.border-radius: 8
    style.shadow: true

    ACTIVE: "Active" {
      style.fill: "#c8e6c9"
      style.stroke: "#388e3c"
      style.border-radius: 6
    }
    DORMANT: "Dormant\n(inactive but valid)" {
      style.fill: "#fff59d"
      style.stroke: "#f9a825"
      style.border-radius: 6
    }
    RESOLVED: "Resolved" {
      style.fill: "#bbdefb"
      style.stroke: "#1976d2"
      style.border-radius: 6
    }
    PRUNED: "Pruned\n(stale > 1,000 cycles)" {
      style.fill: "#e0e0e0"
      style.stroke: "#616161"
      style.border-radius: 6
    }
  }

  conflicts: "Conflict Resolution" {
    style.fill: "#ffebee"
    style.stroke: "#f44336"
    style.border-radius: 8
    style.shadow: true

    RES_C: "Resource conflicts" {
      style.fill: "#ffcdd2"
      style.stroke: "#e53935"
      style.border-radius: 6
    }
    VAL_C: "Value conflicts" {
      style.fill: "#ffcdd2"
      style.stroke: "#e53935"
      style.border-radius: 6
    }
    PRI_C: "Priority conflicts" {
      style.fill: "#ffcdd2"
      style.stroke: "#e53935"
      style.border-radius: 6
    }
    TMP_C: "Temporal conflicts" {
      style.fill: "#ffcdd2"
      style.stroke: "#e53935"
      style.border-radius: 6
    }
  }
}

ecology.goals.STRAT -> ecology.goals.OPER { style.animated: true }
ecology.goals.OPER -> ecology.goals.TACT { style.animated: true }
ecology.lifecycle.ACTIVE -> ecology.lifecycle.DORMANT { style.animated: true }
ecology.lifecycle.ACTIVE -> ecology.lifecycle.RESOLVED { style.animated: true }
ecology.lifecycle.DORMANT -> ecology.lifecycle.PRUNED { style.animated: true }
ecology.conflicts -> ecology.goals: "resolve by\npriority comparison" { style.animated: true }
