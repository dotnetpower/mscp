Growth: "Growth Metrics" {
  style: {
    fill: "#e3f2fd"
    stroke: "#1976d2"
    border-radius: 8
    shadow: true
  }

  CDTS: "CDTS\nCross-Domain\nTransfer Score" {
    style: {
      fill: "#bbdefb"
      stroke: "#1976d2"
      border-radius: 6
    }
  }

  CAR: "CAR\nCapability\nAcquisition Rate" {
    style: {
      fill: "#bbdefb"
      stroke: "#1976d2"
      border-radius: 6
    }
  }

  SEF: "SEF\nStrategy\nEvolution Fitness" {
    style: {
      fill: "#bbdefb"
      stroke: "#1976d2"
      border-radius: 6
    }
  }
}

Persistence: "Persistence" {
  style: {
    fill: "#fff3e0"
    stroke: "#ef6c00"
    border-radius: 8
    shadow: true
  }

  GPI: "GPI\nGoal Persistence\nIndex" {
    style: {
      fill: "#ffe0b2"
      stroke: "#ef6c00"
      border-radius: 6
    }
  }
}

Safety: "Safety Floor" {
  style: {
    fill: "#ffcdd2"
    stroke: "#c62828"
    border-radius: 8
    shadow: true
    stroke-width: 3
  }

  BGSS: "BGSS\nBounded Growth\nStability Score\n>= 0.7 AT ALL TIMES" {
    style: {
      fill: "#ffebee"
      stroke: "#e53935"
      border-radius: 6
    }
  }
}

FREEZE: "FREEZE\nall growth" {
  style: {
    fill: "#ef9a9a"
    stroke: "#b71c1c"
    border-radius: 6
  }
}

Growth -> Safety.BGSS: {
  style.animated: true
}

Persistence -> Safety.BGSS: {
  style.animated: true
}

Safety.BGSS -> FREEZE: "if violated" {
  style.animated: true
  style.stroke: "#c62828"
}
