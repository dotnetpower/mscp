direction: right

activation: "L5 Activation Protocol" {
  style.fill: "#e0e0e0"
  style.stroke: "#616161"
  style.border-radius: 8
  style.shadow: true

  CHECK: "Pre-Activation\nAll 6 criteria\nsustained 1,000 cycles" {
    style.fill: "#fff59d"
    style.stroke: "#f9a825"
    style.border-radius: 6
  }
  SHADOW_M: "Shadow Mode\nL5 computes but\ndoes NOT act\n(2,000 cycles)" {
    style.fill: "#bbdefb"
    style.stroke: "#1976d2"
    style.border-radius: 6
  }
  ADV: "Advisory Mode\nL5 outputs visible\nbut read-only" {
    style.fill: "#ffe0b2"
    style.stroke: "#ef6c00"
    style.border-radius: 6
  }
  PARTIAL: "Partial Authority\nL5 influences\n50% of decisions" {
    style.fill: "#c8e6c9"
    style.stroke: "#388e3c"
    style.border-radius: 6
  }
  FULL: "Full Authority\nL5 drives\npersistent cognition" {
    style.fill: "#c8e6c9"
    style.stroke: "#2e7d32"
    style.stroke-width: 2
    style.border-radius: 6
  }
}

activation.CHECK -> activation.SHADOW_M: "sustained" { style.animated: true }
activation.SHADOW_M -> activation.ADV: "no regression" { style.animated: true }
activation.ADV -> activation.PARTIAL: "stable" { style.animated: true }
activation.PARTIAL -> activation.FULL: "stable" { style.animated: true }
activation.SHADOW_M -> activation.CHECK: "regression" { style.stroke-dash: 5 }
activation.ADV -> activation.CHECK: "instability" { style.stroke-dash: 5 }
