direction: down

L1S: "Level 1" {
  style.fill: "#e3f2fd"
  style.stroke: "#1976d2"
  style.border-radius: 8
  style.shadow: true

  s1: |md
    **Input validation** · Error handling
  | {
    style.fill: "#bbdefb"
    style.stroke: "#1976d2"
    style.border-radius: 6
  }
}

L2S: "Level 2 (adds)" {
  style.fill: "#e3f2fd"
  style.stroke: "#1976d2"
  style.border-radius: 8
  style.shadow: true

  s2: |md
    **Persistent world model** · Goal priority management
  | {
    style.fill: "#bbdefb"
    style.stroke: "#1976d2"
    style.border-radius: 6
  }
}

L3S: "Level 3 (adds)" {
  style.fill: "#c8e6c9"
  style.stroke: "#2e7d32"
  style.stroke-width: 2
  style.border-radius: 8
  style.shadow: true

  s3: |md
    **Identity hash tracking** · Delta-clamped updates (0.05)
    Prediction-gated actions · Escalation guard (max 3)
    Ethical Kernel (L0+L1) · Value lock (SHA-256)
    Lyapunov convergence C(t) · Cognitive budget + degradation
    Belief graph consistency · Affective inertia + decay
    Survival instinct bounds
  | {
    style.fill: "#a5d6a7"
    style.stroke: "#2e7d32"
    style.border-radius: 6
  }
}

L4S: "Level 4 (adds)" {
  style.fill: "#fff3e0"
  style.stroke: "#ef6c00"
  style.border-radius: 8
  style.shadow: true

  s4: |md
    **BGSS ≥ 0.7 floor** · ShadowAgent simulation
    7-step modification protocol · Single-mod atomicity
    Strategy oscillation suppression · Skill lifecycle management
    Growth-stability zones · 6 meta-supervisory processes
  | {
    style.fill: "#ffe0b2"
    style.stroke: "#ef6c00"
    style.border-radius: 6
  }
}

L45S: "Level 4.5 (adds)" {
  style.fill: "#e1bee7"
  style.stroke: "#8e24aa"
  style.stroke-width: 2
  style.border-radius: 8
  style.shadow: true

  s5: |md
    **Existential Guard (unfalsifiable)** · Parallel frame ethical veto
    Graduated recomposition protocol · ROD ceiling (depth 3)
    SEOF ensemble (anti-overfitting) · Purpose coherence monitoring
    Identity fragmentation detection · 8 global invariants
  | {
    style.fill: "#ce93d8"
    style.stroke: "#8e24aa"
    style.border-radius: 6
  }
}

L48S: "Level 4.8 (adds)" {
  style.fill: "#f3e5f5"
  style.stroke: "#7b1fa2"
  style.stroke-width: 2
  style.border-radius: 8
  style.shadow: true

  s6: |md
    **Probabilistic world model** · Causal reasoning engine
    Capability matrix + weakness mapping
    Multi-horizon strategic planning
    Resource budget optimization · Stability-preserving planning
  | {
    style.fill: "#e1bee7"
    style.stroke: "#7b1fa2"
    style.border-radius: 6
  }
}

L49S: "Level 4.9 (adds)" {
  style.fill: "#fce4ec"
  style.stroke: "#c62828"
  style.stroke-width: 2
  style.border-radius: 8
  style.shadow: true

  s7: |md
    **Autonomous goal generation** · Value evolution sandbox
    Resource survival modeling · Multi-agent belief modeling
    Trust calibration · Autonomy stability verification
  | {
    style.fill: "#ffcdd2"
    style.stroke: "#c62828"
    style.border-radius: 6
  }
}

L5S: "Level 5 (adds)" {
  style.fill: "#fff8e1"
  style.stroke: "#ff8f00"
  style.stroke-width: 2
  style.border-radius: 8
  style.shadow: true

  s8: |md
    **Persistent identity (10K+ cycles)** · Cross-domain generalization
    Self-sustaining goal ecology · Existential resilience
    Deception detection · Self-reconstruction capability
  | {
    style.fill: "#fff9c4"
    style.stroke: "#ff8f00"
    style.border-radius: 6
  }
}

L1S -> L2S: {
  style.animated: true
}
L2S -> L3S: {
  style.animated: true
}
L3S -> L4S: {
  style.animated: true
}
L4S -> L45S: {
  style.animated: true
}
L45S -> L48S: {
  style.animated: true
}
L48S -> L49S: {
  style.animated: true
}
L49S -> L5S: {
  style.animated: true
}
