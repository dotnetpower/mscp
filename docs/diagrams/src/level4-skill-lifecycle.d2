start: "" {
  shape: circle
  style: {
    fill: "#616161"
    stroke: "#424242"
  }
}

CANDIDATE: "CANDIDATE" {
  style: {
    fill: "#fff9c4"
    stroke: "#f9a825"
    border-radius: 8
    shadow: true
  }
}

VALIDATED: "VALIDATED" {
  style: {
    fill: "#e3f2fd"
    stroke: "#1976d2"
    border-radius: 8
    shadow: true
  }
}

ACTIVE: "ACTIVE" {
  style: {
    fill: "#c8e6c9"
    stroke: "#2e7d32"
    border-radius: 8
    shadow: true
  }
}

MATURE: "MATURE" {
  style: {
    fill: "#e8f5e9"
    stroke: "#388e3c"
    border-radius: 8
    shadow: true
    stroke-width: 2
  }
}

DEPRECATED: "DEPRECATED" {
  style: {
    fill: "#ffe0b2"
    stroke: "#ef6c00"
    border-radius: 8
    shadow: true
  }
}

end: "" {
  shape: circle
  style: {
    fill: "#616161"
    stroke: "#424242"
  }
}

start -> CANDIDATE: "CGS > 0.7 triggers" {
  style.animated: true
}

CANDIDATE -> VALIDATED: "Experiments pass\nconfidence > 0.6" {
  style.animated: true
}

CANDIDATE -> end: "Experiments fail" {
  style.stroke: "#c62828"
  style.stroke-dash: 5
}

VALIDATED -> ACTIVE: "Stability check pass\nidentity_stability > 0.7" {
  style.animated: true
}

VALIDATED -> end: "Stability degraded" {
  style.stroke: "#c62828"
  style.stroke-dash: 5
}

ACTIVE -> MATURE: "usage_count > threshold\nsuccess_rate stable" {
  style.animated: true
}

ACTIVE -> DEPRECATED: "Replaced or redundant" {
  style.stroke-dash: 5
}

MATURE -> DEPRECATED: "Better skill available" {
  style.stroke-dash: 5
}

DEPRECATED -> end: "Removed after\ncool-down" {
  style.stroke-dash: 5
}
