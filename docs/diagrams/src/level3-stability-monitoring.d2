direction: down

Monitor: "ðŸ“‰ Stability Monitoring" {
  style: {
    fill: "#e3f2fd"
    stroke: "#1976d2"
    border-radius: 8
    shadow: true
    bold: true
    font-size: 14
  }

  CT: "C(t) computed" {
    style: { fill: "#bbdefb"; stroke: "#1976d2"; border-radius: 6 }
  }
  CT1: "C(t+1) computed" {
    style: { fill: "#bbdefb"; stroke: "#1976d2"; border-radius: 6 }
  }
  COMPARE: "C(t+1) â‰¤ C(t) + Îµ ?" {
    shape: diamond
    style: { fill: "#e3f2fd"; stroke: "#1976d2"; border-radius: 6 }
  }

  CT -> COMPARE: { style.animated: true; style.stroke: "#1976d2" }
  CT1 -> COMPARE: { style.animated: true; style.stroke: "#1976d2" }
}

CONV: "Converging âœ…\nNormal operation" {
  style: { fill: "#c8e6c9"; stroke: "#2e7d32"; border-radius: 8; shadow: true }
}

OSC: "Oscillation\ndetected?" {
  shape: diamond
  style: { fill: "#fff3e0"; stroke: "#ef6c00"; border-radius: 6 }
}

STAB: "Activate Stabilization\nâ€¢ Halve scaling factors\nâ€¢ Enable damping" {
  style: { fill: "#ffcdd2"; stroke: "#c62828"; border-radius: 8; shadow: true }
}

REDUCE: "Reduce Scaling\nâ€¢ Lower mutation rates\nâ€¢ Increase inertia" {
  style: { fill: "#fff9c4"; stroke: "#f9a825"; border-radius: 8; shadow: true }
}

Monitor.COMPARE -> CONV: "âœ… yes" {
  style.animated: true
  style.stroke: "#4caf50"
  style.stroke-width: 2
}
Monitor.COMPARE -> OSC: "âŒ no" {
  style.animated: true
  style.stroke: "#c62828"
  style.stroke-width: 2
}
OSC -> STAB: "yes" {
  style.animated: true
  style.stroke: "#c62828"
  style.stroke-width: 2
}
OSC -> REDUCE: "no" {
  style.stroke: "#f9a825"
  style.stroke-width: 2
  style.stroke-dash: 5
}
