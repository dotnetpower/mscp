title: |md
  # Level 4.8 Architecture â€” Four Phases
| {
  near: top-center
  shape: text
  style.font-size: 20
}

Phases: {
  label: "ðŸ—ï¸ Level 4.8 Architecture â€” Four Phases"
  style.border-radius: 8
  style.shadow: true
  style.fill: "#f5f5f5"
  style.stroke: "#9e9e9e"

  P1: {
    label: "ðŸŒ Phase 1:\nWorld Model Integration\n(probabilistic beliefs\nabout the environment)"
    style.border-radius: 6
    style.fill: "#bbdefb"
    style.stroke: "#1976d2"
  }

  P2: {
    label: "ðŸªž Phase 2:\nMeta-Cognitive Self Model\n(capability matrix +\nweakness mapping)"
    style.border-radius: 6
    style.fill: "#ffe0b2"
    style.stroke: "#ef6c00"
  }

  P3: {
    label: "ðŸ“ Phase 3:\nStrategic Layer Activation\n(multi-horizon planning +\ndelayed reward)"
    style.border-radius: 6
    style.fill: "#c8e6c9"
    style.stroke: "#388e3c"
    style.stroke-width: 2
  }

  P4: {
    label: "ðŸ›¡ï¸ Phase 4:\nStability Preservation Check\n(invariant verification +\nabsolute veto)"
    style.border-radius: 6
    style.fill: "#ffcdd2"
    style.stroke: "#c62828"
    style.stroke-width: 3
  }
}

Phases.P1 -> Phases.P3: "feeds beliefs" {
  style.animated: true
}
Phases.P2 -> Phases.P3: "feeds self-knowledge" {
  style.animated: true
}
Phases.P3 -> Phases.P4: "strategic decisions" {
  style.animated: true
}
Phases.P4 -> Phases.P1: "governs ALL phases" {
  style.stroke-dash: 5
}
Phases.P4 -> Phases.P2: "governs ALL phases" {
  style.stroke-dash: 5
}
Phases.P4 -> Phases.P3: "governs ALL phases" {
  style.stroke-dash: 5
}
