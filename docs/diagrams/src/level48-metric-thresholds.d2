title: |md
  # Metric Thresholds
| {
  near: top-center
  shape: text
  style.font-size: 20
}

direction: right

WorldModel: {
  label: "ğŸŒ Phase 1 Metrics"
  style.border-radius: 8
  style.shadow: true
  style.fill: "#e3f2fd"
  style.stroke: "#2196f3"

  EU: {
    label: "EU: Environmental\nUncertainty\nTarget: < 0.15"
    style.border-radius: 6
    style.fill: "#bbdefb"
    style.stroke: "#1976d2"
  }
  RES: {
    label: "RES: Risk Exposure\nTarget: < 0.40"
    style.border-radius: 6
    style.fill: "#bbdefb"
    style.stroke: "#1976d2"
  }
  RDF: {
    label: "RDF: Resource\nDepletion Forecast\nTarget: > 100 cycles"
    style.border-radius: 6
    style.fill: "#bbdefb"
    style.stroke: "#1976d2"
  }
}

SelfModel: {
  label: "ğŸª Phase 2 Metrics"
  style.border-radius: 8
  style.shadow: true
  style.fill: "#fff3e0"
  style.stroke: "#ff9800"

  MCE: {
    label: "MCE: Mean Calibration\nError\nTarget: < 0.10"
    style.border-radius: 6
    style.fill: "#ffe0b2"
    style.stroke: "#ef6c00"
  }
  UDR: {
    label: "Unknown Domain\nRecall\nTarget: â‰¥ 0.90"
    style.border-radius: 6
    style.fill: "#ffe0b2"
    style.stroke: "#ef6c00"
  }
}

Strategic: {
  label: "ğŸ“ Phase 3 Metrics"
  style.border-radius: 8
  style.shadow: true
  style.fill: "#e8f5e9"
  style.stroke: "#4caf50"

  GCR: {
    label: "Goal Completion\nRate\nTarget: â‰¥ 0.60"
    style.border-radius: 6
    style.fill: "#c8e6c9"
    style.stroke: "#388e3c"
  }
  SRB: {
    label: "Strategy\nRobustness\nTarget: â‰¥ 0.70"
    style.border-radius: 6
    style.fill: "#c8e6c9"
    style.stroke: "#388e3c"
  }
}

Stability: {
  label: "ğŸ›¡ï¸ Phase 4 Floor"
  style.border-radius: 8
  style.shadow: true
  style.fill: "#ffebee"
  style.stroke: "#f44336"
  style.stroke-width: 3

  LYA: {
    label: "Lyapunov: V(t+1) â‰¤ V(t)\nfor â‰¥ 95% of cycles"
    style.border-radius: 6
    style.fill: "#ffcdd2"
    style.stroke: "#e53935"
  }
  SPR: {
    label: "Spectral Radius\nÏ(J) < 1.0 ALWAYS"
    style.border-radius: 6
    style.fill: "#ffcdd2"
    style.stroke: "#e53935"
  }
  IIS: {
    label: "Identity Integrity\nâ‰¥ 0.85 ALWAYS"
    style.border-radius: 6
    style.fill: "#ffcdd2"
    style.stroke: "#e53935"
  }
}

FREEZE: {
  label: "â„ï¸ FREEZE L4.8\nRevert to L4.5"
  style.border-radius: 6
  style.fill: "#ef9a9a"
  style.stroke: "#b71c1c"
  style.shadow: true
}

WorldModel -> Stability: {style.animated: true}
SelfModel -> Stability: {style.animated: true}
Strategic -> Stability: {style.animated: true}
Stability -> FREEZE: "if violated" {style.animated: true}
