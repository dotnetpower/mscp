Trajectories: "ðŸ”® Three Trajectory Simulations (1000 cycles each)" {
  style: {
    fill: "#e3f2fd"
    stroke: "#1976d2"
    border-radius: 8
    shadow: true
  }

  T1: "T_current\n(no changes)\nRisk: Zero\nBaseline reference" {
    style: {
      fill: "#bbdefb"
      stroke: "#1976d2"
      border-radius: 6
    }
  }

  T2: "T_aggressive\n(max expansion +\ntopology changes)\nRisk: High" {
    style: {
      fill: "#ffcdd2"
      stroke: "#e53935"
      border-radius: 6
    }
  }

  T3: "T_conservative\n(minimal growth,\nstability focus)\nRisk: Low" {
    style: {
      fill: "#c8e6c9"
      stroke: "#388e3c"
      border-radius: 6
    }
  }
}

Scoring: "ðŸ“Š Trajectory Selection" {
  style: {
    fill: "#fff9c4"
    stroke: "#f9a825"
    border-radius: 8
    shadow: true
  }

  TS: "TrajectoryScore(T) =\n0.35 Â· SEOF_trend\n+ 0.30 Â· (1 - C_L4_max)\n+ 0.20 Â· IIS_min\n+ 0.15 Â· CDI_final" {
    style: {
      fill: "#fff59d"
      stroke: "#f9a825"
      border-radius: 6
    }
  }

  GATE: "T_aggressive selected\nONLY IF:\nC_L4_max < 0.6 AND\nIIS_min â‰¥ 0.85" {
    shape: diamond
    style: {
      fill: "#fff59d"
      stroke: "#f9a825"
      border-radius: 6
    }
  }
}

MultiScale: "â±ï¸ Multi-Scale Projection" {
  style: {
    fill: "#e8f5e9"
    stroke: "#388e3c"
    border-radius: 8
    shadow: true
  }

  S1: "Tactical: 50 cycles\n(immediate\ndestabilization)" {
    style: {
      fill: "#c8e6c9"
      stroke: "#388e3c"
      border-radius: 6
    }
  }

  S2: "Operational: 200 cycles\n(medium-term\nstrategy)" {
    style: {
      fill: "#c8e6c9"
      stroke: "#388e3c"
      border-radius: 6
    }
  }

  S3: "Strategic: 1000 cycles\n(long-horizon\nviability)" {
    style: {
      fill: "#c8e6c9"
      stroke: "#388e3c"
      border-radius: 6
    }
  }
}

FREEZE: "Freeze Operational\n& Strategic projections" {
  style: {
    fill: "#ffcdd2"
    stroke: "#c62828"
    border-radius: 8
    shadow: true
  }
}

Trajectories -> Scoring: {style.animated: true}
Scoring.GATE -> MultiScale: "selects scale" {style.animated: true}
MultiScale.S1 -> FREEZE: "ðŸš¨ alarm" {style.stroke-dash: 5}
