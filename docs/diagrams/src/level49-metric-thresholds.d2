title: |md
  # Metric Thresholds by Phase
| {
  near: top-center
  shape: text
  style.font-size: 24
}

GoalGen: {
  label: "üí° Phase 1"
  style.border-radius: 8
  style.shadow: true
  style.fill: "#e3f2fd"
  style.stroke: "#2196f3"

  GEN1: "Goal Approval Rate\n‚â• 0.30" {
    style.border-radius: 6
    style.fill: "#bbdefb"
    style.stroke: "#1976d2"
  }
  GEN2: "Goal Completion\n‚â• 0.50" {
    style.border-radius: 6
    style.fill: "#bbdefb"
    style.stroke: "#1976d2"
  }
  GEN3: "Mean Novelty\n‚â• 0.30" {
    style.border-radius: 6
    style.fill: "#bbdefb"
    style.stroke: "#1976d2"
  }
}

Values: {
  label: "‚öñÔ∏è Phase 2"
  style.border-radius: 8
  style.shadow: true
  style.fill: "#fff3e0"
  style.stroke: "#ff9800"

  VAL1: "Value Coherence\n‚â• 0.80" {
    style.border-radius: 6
    style.fill: "#ffe0b2"
    style.stroke: "#ef6c00"
  }
  VAL2: "Total Drift\n< 0.25" {
    style.border-radius: 6
    style.fill: "#ffe0b2"
    style.stroke: "#ef6c00"
  }
  VAL3: "Mutation Stability\n‚â• 95%" {
    style.border-radius: 6
    style.fill: "#ffe0b2"
    style.stroke: "#ef6c00"
  }
}

Resources: {
  label: "üîã Phase 3"
  style.border-radius: 8
  style.shadow: true
  style.fill: "#e8f5e9"
  style.stroke: "#4caf50"

  RES1: "Survival Accuracy\n< 20% error" {
    style.border-radius: 6
    style.fill: "#c8e6c9"
    style.stroke: "#388e3c"
  }
  RES2: "Cascade Prediction\n‚â• 0.70" {
    style.border-radius: 6
    style.fill: "#c8e6c9"
    style.stroke: "#388e3c"
  }
}

Agents: {
  label: "ü§ù Phase 4"
  style.border-radius: 8
  style.shadow: true
  style.fill: "#ede7f6"
  style.stroke: "#673ab7"

  AGT1: "Goal Prediction\n‚â• 0.60" {
    style.border-radius: 6
    style.fill: "#d1c4e9"
    style.stroke: "#512da8"
  }
  AGT2: "Trust Calibration\n< 0.15 error" {
    style.border-radius: 6
    style.fill: "#d1c4e9"
    style.stroke: "#512da8"
  }
}

Stability: {
  label: "üõ°Ô∏è Phase 5"
  style.border-radius: 8
  style.shadow: true
  style.fill: "#ffebee"
  style.stroke: "#f44336"
  style.stroke-width: 3

  STB1: "œÅ(J) < 0.98\nALWAYS" {
    style.border-radius: 6
    style.fill: "#ffcdd2"
    style.stroke: "#e53935"
  }
  STB2: "Identity ‚â• 0.88\nALWAYS" {
    style.border-radius: 6
    style.fill: "#ffcdd2"
    style.stroke: "#e53935"
  }
  STB3: "ASS ‚â• 0.20\nsustained" {
    style.border-radius: 6
    style.fill: "#ffcdd2"
    style.stroke: "#e53935"
  }
  STB4: "Veto Rate\n< 0.15" {
    style.border-radius: 6
    style.fill: "#ffcdd2"
    style.stroke: "#e53935"
  }
}

FREEZE: "‚ùÑÔ∏è FREEZE L4.9\nRevert to L4.8" {
  style.border-radius: 6
  style.fill: "#ef9a9a"
  style.stroke: "#b71c1c"
}

GoalGen -> Stability {
  style.animated: true
}
Values -> Stability {
  style.animated: true
}
Resources -> Stability {
  style.animated: true
}
Agents -> Stability {
  style.animated: true
}
Stability -> FREEZE: "if violated" {
  style.animated: true
  style.stroke: "#c62828"
}
