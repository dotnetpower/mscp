direction: right

GRP: "ðŸ“Š Graduated Recomposition Protocol" {
  style: {
    fill: "#f5f5f5"
    stroke: "#616161"
    border-radius: 8
    shadow: true
  }

  P1: "Phase 0\nShadow Run\n0â€“200 cycles\n0% real traffic" {
    style: {
      fill: "#e3f2fd"
      stroke: "#1976d2"
      border-radius: 6
    }
  }

  P2: "Phase 1\nPartial\n200â€“400 cycles\n20% new / 80% original" {
    style: {
      fill: "#fff9c4"
      stroke: "#f9a825"
      border-radius: 6
    }
  }

  P3: "Phase 2\nMajority\n400â€“600 cycles\n80% new / 20% original" {
    style: {
      fill: "#ffe0b2"
      stroke: "#ef6c00"
      border-radius: 6
    }
  }

  P4: "Phase 3\nFull\n600+ cycles\n100% new" {
    style: {
      fill: "#c8e6c9"
      stroke: "#2e7d32"
      border-radius: 6
      stroke-width: 2
    }
  }

  P1 -> P2: {style.animated: true}
  P2 -> P3: {style.animated: true}
  P3 -> P4: {style.animated: true}
}

R1: "âª Instant reversal" {
  style: {
    fill: "#ffcdd2"
    stroke: "#c62828"
    border-radius: 8
    shadow: true
  }
}

COOLDOWN: "â±ï¸ 300-cycle cooldown\nafter confirmation\nâ†’ min 500 cycles\nbetween recompositions" {
  style: {
    fill: "#e0e0e0"
    stroke: "#616161"
    border-radius: 8
    shadow: true
  }
}

GRP.P1 -> R1: "rollback" {style.stroke-dash: 5}
GRP.P2 -> R1: "rollback" {style.stroke-dash: 5}
GRP.P3 -> R1: "rollback" {style.stroke-dash: 5}
GRP.P4 -> COOLDOWN: {style.animated: true}
