direction: right

Input: "ðŸŸ¢ Input" {
  style: {
    fill: "#e8f5e9"
    stroke: "#4caf50"
    border-radius: 8
    font-size: 14
    shadow: true
  }
  U: "ðŸ‘¤ User Request" {
    shape: rectangle
    style: {
      fill: "#c8e6c9"
      stroke: "#388e3c"
      border-radius: 6
    }
  }
}

Processing: "âš™ï¸ Processing Pipeline" {
  style: {
    fill: "#e3f2fd"
    stroke: "#2196f3"
    border-radius: 8
    font-size: 14
    shadow: true
  }
  IR: "Intent\nRouter" {
    style: {
      fill: "#bbdefb"
      stroke: "#1976d2"
      border-radius: 6
    }
  }
  TP: "Tool\nParser" {
    style: {
      fill: "#bbdefb"
      stroke: "#1976d2"
      border-radius: 6
    }
  }
  TD: "Tool\nDispatcher" {
    style: {
      fill: "#bbdefb"
      stroke: "#1976d2"
      border-radius: 6
    }
  }
  IR -> TP -> TD {
    style.animated: true
  }
}

Tools: "ðŸ”§ External Tools" {
  style: {
    fill: "#fff3e0"
    stroke: "#ff9800"
    border-radius: 8
    font-size: 14
    shadow: true
  }
  T1: "ðŸ” Search" {
    style: {
      fill: "#ffe0b2"
      stroke: "#ef6c00"
      border-radius: 6
    }
  }
  T2: "ðŸ§® Calculator" {
    style: {
      fill: "#ffe0b2"
      stroke: "#ef6c00"
      border-radius: 6
    }
  }
  T3: "ðŸŒ API Client" {
    style: {
      fill: "#ffe0b2"
      stroke: "#ef6c00"
      border-radius: 6
    }
  }
  T4: "ðŸ“ File System" {
    style: {
      fill: "#ffe0b2"
      stroke: "#ef6c00"
      border-radius: 6
    }
  }
}

Output: "ðŸ”µ Output" {
  style: {
    fill: "#ede7f6"
    stroke: "#673ab7"
    border-radius: 8
    font-size: 14
    shadow: true
  }
  LLM: "LLM Response\nGenerator" {
    style: {
      fill: "#d1c4e9"
      stroke: "#512da8"
      border-radius: 6
    }
  }
  R: "ðŸ“ Response" {
    style: {
      fill: "#d1c4e9"
      stroke: "#512da8"
      border-radius: 6
    }
  }
  LLM -> R {
    style.animated: true
  }
}

Input.U -> Processing.IR: {
  style.animated: true
  style.stroke: "#4caf50"
}
Processing.TD -> Tools.T1: {
  style.animated: true
  style.stroke: "#ff9800"
}
Processing.TD -> Tools.T2: {
  style.animated: true
  style.stroke: "#ff9800"
}
Processing.TD -> Tools.T3: {
  style.animated: true
  style.stroke: "#ff9800"
}
Processing.TD -> Tools.T4: {
  style.animated: true
  style.stroke: "#ff9800"
}
Tools.T1 -> Output.LLM: {
  style.animated: true
  style.stroke-dash: 5
  style.stroke: "#673ab7"
}
Tools.T2 -> Output.LLM: {
  style.animated: true
  style.stroke-dash: 5
  style.stroke: "#673ab7"
}
Tools.T3 -> Output.LLM: {
  style.animated: true
  style.stroke-dash: 5
  style.stroke: "#673ab7"
}
Tools.T4 -> Output.LLM: {
  style.animated: true
  style.stroke-dash: 5
  style.stroke: "#673ab7"
}
