direction: down

title: "MSCP Protocol Version History" {
  style: {
    font-size: 20
    bold: true
    underline: false
  }
}

v10: "v1.0 — Pipeline Restructuring" {
  style: {
    fill: "#e3f2fd"
    stroke: "#2196f3"
    border-radius: 8
    shadow: true
    bold: true
    font-size: 14
  }
  headline: "Identity-first architecture" {
    style: { fill: "#bbdefb"; stroke: "#1976d2"; border-radius: 6; font-size: 12; italic: true }
  }
  prediction: "+ PredictionEngine\n  → Prediction-gated actions" {
    style: { fill: "#bbdefb"; stroke: "#1976d2"; border-radius: 6; font-size: 11 }
  }
  comparator: "+ MetaCognitionComparator\n  → Prediction-comparison loop" {
    style: { fill: "#bbdefb"; stroke: "#1976d2"; border-radius: 6; font-size: 11 }
  }
  selfupdate: "+ SelfUpdateLoop\n  → Delta-clamped self-updates" {
    style: { fill: "#bbdefb"; stroke: "#1976d2"; border-radius: 6; font-size: 11 }
  }
  agency: "+ Agency Attribution\n  → Action provenance tracking" {
    style: { fill: "#bbdefb"; stroke: "#1976d2"; border-radius: 6; font-size: 11 }
  }
}

v13: "v1.3 — Self-Impact Prediction" {
  style: {
    fill: "#e3f2fd"
    stroke: "#2196f3"
    border-radius: 8
    shadow: true
    bold: true
    font-size: 14
  }
  headline: "Predict internal state changes (not just external)" {
    style: { fill: "#bbdefb"; stroke: "#1976d2"; border-radius: 6; font-size: 12; italic: true }
  }
  guard: "+ MetaEscalationGuard\n  → Recursion safety (max 3 updates/cycle)" {
    style: { fill: "#ffcdd2"; stroke: "#e53935"; border-radius: 6; font-size: 11 }
  }
  rollback: "+ Rollback Controller\n  → Stable snapshot restoration" {
    style: { fill: "#ffcdd2"; stroke: "#e53935"; border-radius: 6; font-size: 11 }
  }
}

v20: "v2.0 — Controlled Goal Mutation" {
  style: {
    fill: "#e3f2fd"
    stroke: "#2196f3"
    border-radius: 8
    shadow: true
    bold: true
    font-size: 14
  }
  headline: "Structural goal modification under stability conditions" {
    style: { fill: "#bbdefb"; stroke: "#1976d2"; border-radius: 6; font-size: 12; italic: true }
  }
  valuelock: "+ ValueLockManager\n  → Core value hash integrity" {
    style: { fill: "#c8e6c9"; stroke: "#2e7d32"; border-radius: 6; font-size: 11 }
  }
  metadepth: "+ MetaDepthController\n  → Recursive meta-cognition (depth 2)" {
    style: { fill: "#fff59d"; stroke: "#f9a825"; border-radius: 6; font-size: 11 }
  }
  metastab: "+ Meta Stability Formula\n  → Quantified meta-stability" {
    style: { fill: "#bbdefb"; stroke: "#1976d2"; border-radius: 6; font-size: 11 }
  }
  stabmode: "+ Stabilization Mode\n  → Automatic safety mode activation" {
    style: { fill: "#ffcdd2"; stroke: "#e53935"; border-radius: 6; font-size: 11 }
  }
}

v30: "v3.0 — Belief Graph" {
  style: {
    fill: "#e8f5e9"
    stroke: "#4caf50"
    border-radius: 8
    shadow: true
    bold: true
    font-size: 14
  }
  headline: "Structured belief representation + controlled rewriting" {
    style: { fill: "#c8e6c9"; stroke: "#388e3c"; border-radius: 6; font-size: 12; italic: true }
  }
  idvec: "+ Identity Vector Math\n  → I(t) as continuous vector;\n     L2-norm delta/velocity/acceleration" {
    style: { fill: "#c8e6c9"; stroke: "#2e7d32"; border-radius: 6; font-size: 11 }
  }
  ethkernel: "+ Ethical Kernel\n  → Rule-based ethical invariants\n     (no LLM dependency)" {
    style: { fill: "#ffcdd2"; stroke: "#e53935"; border-radius: 6; font-size: 11 }
  }
  tensor: "+ Self-Consistency Tensor\n  → Belief-goal-value-identity\n     coherence evaluation" {
    style: { fill: "#fff59d"; stroke: "#f9a825"; border-radius: 6; font-size: 11 }
  }
}

v31: "v3.1 — Lyapunov Stability" {
  style: {
    fill: "#e8f5e9"
    stroke: "#4caf50"
    border-radius: 8
    shadow: true
    bold: true
    font-size: 14
  }
  headline: "Convergence guarantee" {
    style: { fill: "#c8e6c9"; stroke: "#388e3c"; border-radius: 6; font-size: 12; italic: true }
  }
  budget: "+ Cognitive Budget\n  → Computational explosion prevention" {
    style: { fill: "#e0e0e0"; stroke: "#616161"; border-radius: 6; font-size: 11 }
  }
  gws: "+ Global Workspace\n  → Unified cognitive state broadcast" {
    style: { fill: "#e0e0e0"; stroke: "#616161"; border-radius: 6; font-size: 11 }
  }
  coupling: "+ Identity-Belief Coupling\n  → Prevent independent drift" {
    style: { fill: "#c8e6c9"; stroke: "#2e7d32"; border-radius: 6; font-size: 11 }
  }
}

v40: "v4.0 — Affective Engine" {
  style: {
    fill: "#ede7f6"
    stroke: "#673ab7"
    border-radius: 8
    shadow: true
    bold: true
    font-size: 14
  }
  headline: "Structured internal emotion states" {
    style: { fill: "#d1c4e9"; stroke: "#512da8"; border-radius: 6; font-size: 12; italic: true }
  }
  survival: "+ Survival Instinct\n  → Homeostatic threat detection\n     + defense goals" {
    style: { fill: "#ffcdd2"; stroke: "#e53935"; border-radius: 6; font-size: 11 }
  }
  asyncsep: "+ Async Separation\n  → MSCP loop never blocks\n     user response path" {
    style: { fill: "#e0e0e0"; stroke: "#616161"; border-radius: 6; font-size: 11 }
  }
}

# Timeline connections
v10 -> v13: {
  style.animated: true
  style.stroke: "#2196f3"
}
v13 -> v20: {
  style.animated: true
  style.stroke: "#2196f3"
}
v20 -> v30: {
  style.animated: true
  style.stroke: "#4caf50"
}
v30 -> v31: {
  style.animated: true
  style.stroke: "#4caf50"
}
v31 -> v40: {
  style.animated: true
  style.stroke: "#673ab7"
}
