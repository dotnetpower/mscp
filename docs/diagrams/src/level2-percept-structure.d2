direction: right

Percept: "Percept" {
  shape: class
  style: { fill: "#e3f2fd"; stroke: "#1976d2"; border-radius: 6; shadow: true }
  "+float timestamp"
  "+IntentCategory intent"
  "+EmotionVector emotion"
  "+List<string> entities"
  "+string complexity"
  "+List<string> system_events"
}

EmotionVector: "EmotionVector" {
  shape: class
  style: { fill: "#e1bee7"; stroke: "#8e24aa"; border-radius: 6; shadow: true }
  "+float valence    [-1.0, 1.0]"
  "+float arousal    [0.0, 1.0]"
  "+string label"
}

IntentCategory: "IntentCategory" {
  shape: class
  style: { fill: "#fff3e0"; stroke: "#ff9800"; border-radius: 6; shadow: true }
  "<<enumeration>>"
  "GOAL_QUERY"
  "EMOTIONAL"
  "TASK"
  "INFO_QUERY"
  "FEEDBACK"
  "CLARIFICATION"
}

EntityState: "EntityState" {
  shape: class
  style: { fill: "#e8f5e9"; stroke: "#388e3c"; border-radius: 6; shadow: true }
  "+string entity_id"
  "+string entity_type"
  "+Map properties"
  "+int mention_count"
  "+float last_mentioned"
  "+float sentiment_score"
}

Goal: "Goal" {
  shape: class
  style: { fill: "#fff9c4"; stroke: "#f9a825"; border-radius: 6; shadow: true }
  "+string goal_id"
  "+GoalType type"
  "+string description"
  "+float priority     [0.0, 1.0]"
  "+float weight"
  "+GoalStatus status"
  "+string parent_goal_id"
  "+List<string> sub_goals"
  "+float progress     [0.0, 1.0]"
}

WorldSnapshot: "WorldSnapshot" {
  shape: class
  style: { fill: "#e0f2f1"; stroke: "#009688"; border-radius: 6; shadow: true }
  "+string snapshot_id"
  "+float timestamp"
  "+Map<string,EntityState> entities"
  "+List<TemporalFact> valid_facts"
  "+List<string> recent_events"
}

Percept -> EmotionVector { style.animated: true }
Percept -> IntentCategory { style.animated: true }
WorldSnapshot -> EntityState { style.animated: true }
